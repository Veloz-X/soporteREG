(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{193:function(t,s,e){"use strict";e.r(s);var a=e(6),n=e.n(a);a={data:function(){return{isLoading:!1,serverStatus:[]}},beforeMount:function(){this.loadServerStatus()},methods:{loadServerStatus:function(){var t=this;this.isLoading=!0,n.a.post(this.$myaccount_url+"settings/server_status").then((function(s){t.serverStatus=s.data})).catch((function(s){t.$toasted.global.error(s)})).then((function(){t.isLoading=!1}))}}},e=e(131),a={data:function(){return{isLoading:!1,settings:{site_title:"",site_description:"",site_keywords:"",custom_js:"",app_debug:"",enable_cache:0},isDownForMaintenance:!1}},components:{serverStatus:Object(e.a)(a,(function(){var t=this,s=t.$createElement;return(s=t._self._c||s)("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{"data-toggle":"collapse","data-target":"#serverStatus","aria-expanded":"true","aria-controls":"serverStatus"}},[t._v(t._s(t.$t("Server info")))]),t._v(" "),s("div",{staticClass:"card-body p-0 m-0 collaps show",attrs:{id:"serverStatus"}},[t.isLoading?s("pre-loader"):s("table",{staticClass:"table table-striped table-sm"},[s("tr",[s("td",[t._v("Max execution time")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.max_execution_time)+" seconds")])]),t._v(" "),s("td",[300<=t.serverStatus.max_execution_time?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+300 Seconds Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Max input time")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.max_input_time)+" seconds")])]),t._v(" "),s("td",[120<=t.serverStatus.max_input_time?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+120 Seconds Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Max input vars")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.max_input_vars))])]),t._v(" "),s("td",[2e3<=t.serverStatus.max_input_vars?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+2000 Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Memory limit")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.memory_limit))])]),t._v(" "),s("td",[512<=t.serverStatus.memory_limit.slice(0,-1)?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+512M Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Post max size")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.post_max_size))])]),t._v(" "),s("td",[64<=t.serverStatus.post_max_size.slice(0,-1)?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+64M Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Upload max filesize")]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.serverStatus.upload_max_filesize))])]),t._v(" "),s("td",[64<=t.serverStatus.upload_max_filesize.slice(0,-1)?s("span",{staticClass:"badge badge-success"},[t._v("Ok")]):s("span",{staticClass:"bg-warning small px-1"},[t._v("+64M Recommended")])])]),t._v(" "),s("tr",[s("td",[t._v("Zip extension")]),t._v(" "),s("td",[t.serverStatus.zip?s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.$t("Enabled")))]):s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.$t("Disabled / not installed")))])]),t._v(" "),s("td",[t.serverStatus.zip?s("span",{staticClass:"badge badge-success"},[t._v(t._s(t.$t("ok")))]):s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.$t("fail")))])])])])],1)])}),[],!1,null,null,null).exports},mounted:function(){this.loadSettings()},methods:{loadSettings:function(){var t=this;this.isLoading=!0,n.a.post(this.$myaccount_url+"settings/fetch").then((function(s){t.settings=s.data.settings,t.isDownForMaintenance=s.data.isDownForMaintenance,t.isLoading=!1}))},refreshApp:function(){var t=this;n.a.post(this.$myaccount_url+"update/refresh_app").then((function(s){"ok"==s.data.status?(t.updateCompleted=!0,t.successMsg=s.data.message,t.$toasted.global.success(s.data.message),t.uploadProgress=0,t.uploading=!1,t.updating=!1,t.errorDetails="",t.updateFailed=!1):"string"==typeof s.data.message?(t.errorDetails=s.data.message,t.$toasted.global.error(s.data.message)):(t.$toasted.global.error(s.data.message.join(",")),t.errorDetails=s.data.message.join(","))})).catch((function(s){t.$showError(s)}))},save:function(t,s){var e=this;this.$toasted.clear(),n.a.post(this.$myaccount_url+"settings/save",{key:t,val:s}).then((function(t){"ok"==t.data.status?e.$toasted.global.success(t.data.message):"string"==typeof t.data.message?e.$toasted.global.error(t.data.message):e.$toasted.global.error(t.data.message.join(","))})).catch((function(t){e.$showError(t)}))},toggleDownForMaintenance:function(){var t=this;this.$toasted.clear(),n.a.post(this.$myaccount_url+"settings/toggle_maintenance_mode",{maintenance_mode:this.isDownForMaintenance}).then((function(s){"ok"==s.data.status?t.$toasted.global.success(s.data.message):"string"==typeof s.data.message?t.$toasted.global.error(s.data.message):t.$toasted.global.error(s.data.message.join(","))}))},toggleEnableCache:function(){var t=this;this.$toasted.clear(),n.a.post(this.$myaccount_url+"settings/toggle_enable_cache",{enable_cache:this.settings.enable_cache}).then((function(s){"ok"==s.data.status?t.$toasted.global.success(s.data.message):"string"==typeof s.data.message?t.$toasted.global.error(s.data.message):t.$toasted.global.error(s.data.message.join(","))}))}}},a=Object(e.a)(a,(function(){var t=this,s=t.$createElement;return(s=t._self._c||s)("div",[s("div",{staticClass:"card mt-3"},[s("div",{staticClass:"card-header",attrs:{"data-toggle":"collapse","data-target":"#frontEndSettings","aria-expanded":"true","aria-controls":"frontEndSettings"}},[t._v("\n      "+t._s(t.$t("Frontend settings"))+"\n    ")]),t._v(" "),t.isLoading?s("pre-loader"):s("div",{staticClass:"card-body p-3 collapse show",attrs:{id:"frontEndSettings"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"site_title"}},[t._v(t._s(t.$t("Frontend title")))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.site_title,expression:"settings.site_title"}],staticClass:"form-control",attrs:{id:"site_title",placeholder:t.$t("Frontend title")},domProps:{value:t.settings.site_title},on:{blur:function(s){return t.save("site_title",t.settings.site_title)},input:function(s){s.target.composing||t.$set(t.settings,"site_title",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"site_description"}},[t._v(t._s(t.$t("Frontend description")))]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.site_description,expression:"settings.site_description"}],staticClass:"form-control",attrs:{id:"site_description",placeholder:t.$t("Frontend description")},domProps:{value:t.settings.site_description},on:{blur:function(s){return t.save("site_description",t.settings.site_description)},input:function(s){s.target.composing||t.$set(t.settings,"site_description",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"site_keywords"}},[t._v(t._s(t.$t("Frontend keywords")))]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.site_keywords,expression:"settings.site_keywords"}],staticClass:"form-control",attrs:{id:"site_keywords",placeholder:t.$t("Frontend keywords")},domProps:{value:t.settings.site_keywords},on:{blur:function(s){return t.save("site_keywords",t.settings.site_keywords)},input:function(s){s.target.composing||t.$set(t.settings,"site_keywords",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"mb-3 clearfix"},[s("label",{attrs:{for:"customejs"}},[t._v(t._s(t.$t("Custom javascript code")))]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.custom_js,expression:"settings.custom_js"}],staticClass:"form-control",attrs:{id:"customejs",placeholder:t.$t("custom_js_example")},domProps:{value:t.settings.custom_js},on:{blur:function(s){return t.save("custom_js",t.settings.custom_js)},input:function(s){s.target.composing||t.$set(t.settings,"custom_js",s.target.value)}}}),t._v(" "),s("small",{staticClass:"form-text text-muted"},[t._v("\n          "+t._s(t.$t("custom js code"))+"\n        ")])])])],1),t._v(" "),s("div",{staticClass:"card mt-3"},[s("div",{staticClass:"card-header",attrs:{"data-toggle":"collapse","data-target":"#developerOptions","aria-expanded":"true","aria-controls":"developerOptions"}},[t._v("\n      "+t._s(t.$t("Developer Options")))]),t._v(" "),s("div",{staticClass:"card-body p-3 collapse show",attrs:{id:"developerOptions"}},[s("div",{staticClass:"custom-control custom-switch my-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isDownForMaintenance,expression:"isDownForMaintenance"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isDownForMaintenance"},domProps:{checked:Array.isArray(t.isDownForMaintenance)?-1<t._i(t.isDownForMaintenance,null):t.isDownForMaintenance},on:{change:[function(s){var e=t.isDownForMaintenance,a=s.target,n=!!a.checked;Array.isArray(e)?(s=t._i(e,null),a.checked?s<0&&(t.isDownForMaintenance=e.concat([null])):-1<s&&(t.isDownForMaintenance=e.slice(0,s).concat(e.slice(s+1)))):t.isDownForMaintenance=n},function(s){return t.toggleDownForMaintenance()}]}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"isDownForMaintenance"}},[t._v(t._s(t.$t("Toggle maintenance mode")))]),t._v(" "),s("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("maintenance mode")))])]),t._v(" "),s("div",{staticClass:"custom-control custom-switch my-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_debug,expression:"settings.app_debug"}],staticClass:"custom-control-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"debugMode"},domProps:{checked:Array.isArray(t.settings.app_debug)?-1<t._i(t.settings.app_debug,null):t._q(t.settings.app_debug,1)},on:{change:[function(s){var e=t.settings.app_debug,a=s.target,n=a.checked?1:0;Array.isArray(e)?(s=t._i(e,null),a.checked?s<0&&t.$set(t.settings,"app_debug",e.concat([null])):-1<s&&t.$set(t.settings,"app_debug",e.slice(0,s).concat(e.slice(s+1)))):t.$set(t.settings,"app_debug",n)},function(s){return t.save("app_debug",t.settings.app_debug)}]}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"debugMode"}},[t._v(t._s(t.$t("Toggle debug mode")))]),t._v(" "),s("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("enabled errors")))])]),t._v(" "),s("div",{staticClass:"custom-control custom-switch my-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.enable_cache,expression:"settings.enable_cache"}],staticClass:"custom-control-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"enable_cache"},domProps:{checked:Array.isArray(t.settings.enable_cache)?-1<t._i(t.settings.enable_cache,null):t._q(t.settings.enable_cache,1)},on:{change:[function(s){var e=t.settings.enable_cache,a=s.target,n=a.checked?1:0;Array.isArray(e)?(s=t._i(e,null),a.checked?s<0&&t.$set(t.settings,"enable_cache",e.concat([null])):-1<s&&t.$set(t.settings,"enable_cache",e.slice(0,s).concat(e.slice(s+1)))):t.$set(t.settings,"enable_cache",n)},function(s){return t.toggleEnableCache()}]}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"enable_cache"}},[t._v(t._s(t.$t("Toggle application cache")))]),t._v(" "),s("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("enable system cache")))])])])]),t._v(" "),s("div",{staticClass:"card mt-3"},[s("div",{staticClass:"card-header",attrs:{"data-toggle":"collapse","data-target":"#systemUpdate","aria-expanded":"true","aria-controls":"systemUpdate"}},[t._v(t._s(t.$t("System update")))]),t._v(" "),s("div",{staticClass:"card-body collapse show",attrs:{id:"systemUpdate"}},[s("upload-update")],1)]),t._v(" "),s("div",{staticClass:"card mt-3"},[s("div",{staticClass:"card-header",attrs:{"data-toggle":"collapse","data-target":"#refreshApp","aria-expanded":"true","aria-controls":"refreshApp"}},[t._v(t._s(t.$t("Application Refresh")))]),t._v(" "),s("div",{staticClass:"card-body collapse show",attrs:{id:"refreshApp"}},[s("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.refreshApp()}}},[t._v(t._s(t.$t("Application Refresh")))]),t._v(" "),s("div",[s("small",{staticClass:"small"},[t._v(t._s(t.$t("application refresh services")))])])])]),t._v(" "),s("serverStatus",[s("preloader")],1)],1)}),[],!1,null,null,null);s.default=a.exports}}]);