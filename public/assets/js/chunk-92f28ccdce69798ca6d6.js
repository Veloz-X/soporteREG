(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{197:function(s,t,e){"use strict";e.r(t);var i=e(6),o=e.n(i);i={data:function(){return{isLoading:!0,role:null,permissions:[],rolePermissions:[],modulesPermissions:[],emptyResult:!1}},props:["id"],mounted:function(){this.loadRolePermissions()},methods:{loadRolePermissions:function(){var s=this;this.isLoading=!0,o.a.post(this.$myaccount_url+"acl/roles/"+this.id+"/permissions").then((function(t){s.permissions=t.data.permissions,s.rolePermissions=t.data.role_permissions,s.modulesPermissions=t.data.modules_permissions,s.role=t.data.role})).catch((function(t){s.emptyResult=!0,s.$showError(t)})).then((function(t){s.isLoading=!1}))},hasPermission:function(s){return!!this.rolePermissions.filter((function(t){return t.name==s})).length},togglePermission:function(s,t){var e=this;o.a.post(this.$myaccount_url+"acl/roles/"+this.id+"/toggle_permission/"+t,{action:s?"assign":"revoke"}).then((function(s){e.$toasted.global.success(s.data.message),e.permissions=s.data.permissions,e.rolePermissions=s.data.role_permissions,e.modulesPermissions=s.data.modules_permissions,e.role=s.data.role})).catch((function(s){e.$showError(s)}))}}},e=e(131),i=Object(e.a)(i,(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[s.isLoading?e("pre-loader"):s.emptyResult?e("empty-state"):e("div",[e("span",{staticClass:"h3 text-capitalize"},[s._v(s._s(s.role.name.replaceAll("_"," "))+" ")]),e("small",[e("i",{staticClass:"fas fa-pen"})]),s._v(" "),e("div",{staticClass:"my-2 text-capitalize"},[e("div",{staticClass:"card-columns py-4"},[s._l(s.permissions,(function(t,i){return e("div",{key:i,staticClass:"card card-body p-2 border shadow-none"},[e("p",{staticClass:"p-2 m-0 h4"},[s._v(s._s(i.replaceAll("_"," ")))]),s._v(" "),s._l(t,(function(t,i){return e("div",{key:i,staticClass:"custom-control custom-switch mx-2 my-1"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox","true-value":!0,"false-value":!1,id:"p-switch-"+t},domProps:{checked:s.hasPermission(t)},on:{change:function(e){return s.togglePermission(e.target.checked,t)}}}),s._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"p-switch-"+t}},[s._v("\n                  "+s._s(t.replaceAll("_"," "))+"\n                ")])])}))],2)})),s._v(" "),s._l(s.modulesPermissions,(function(t,i){return e("div",{key:i,staticClass:"card card-body p-2 border shadow-none"},[e("p",{staticClass:"p-2 m-0 h4"},[s._v(s._s(s.$t("Module")+" : "+i.replaceAll("_"," ")))]),s._v(" "),s._l(t,(function(t,i){return e("div",{key:i,staticClass:"custom-control custom-switch mx-2 my-1"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox","true-value":!0,"false-value":!1,id:"p-switch-"+t},domProps:{checked:s.hasPermission(t)},on:{change:function(e){return s.togglePermission(e.target.checked,t)}}}),s._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"p-switch-"+t}},[s._v("\n                  "+s._s(t.replaceAll("_"," "))+"\n                ")])])}))],2)}))],2)])])],1)])}),[],!1,null,null,null);t.default=i.exports}}]);